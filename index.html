<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jackson County Roleplay</title>
  <meta name="description" content="Jackson County Roleplay — a public ER:LC roleplay server based in Missouri's Jackson County.">
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="assets/images/logo.png" alt="Jackson County Roleplay Logo" class="logo">
        Jackson County Roleplay
        <span class="badge">Public ER:LC</span>
      </div>
      <nav>
        <a href="index.html">Home</a>
        <a href="rules.html">Rules</a>
        <a href="departments.html">Departments</a>
        <a href="staff.html">Staff</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="container">

    <!-- HERO -->
    <section class="hero fade-in-up">
      <div class="hero-grid">
        <div class="card hero-card">
          <div class="hero-header">
            <img src="assets/images/logo.png" alt="Jackson County Roleplay Logo" class="hero-logo">
            <h1>Jackson County Roleplay</h1>
          </div>
          <p>A public ER:LC roleplay community based in Missouri’s Jackson County. Focused on realistic roleplay, fair moderation, and welcoming players.</p>
          <div class="cta">
            <a class="btn primary pulse" href="https://discord.gg/ZrjZcFphjr" target="_blank">Join Our Discord</a>
            <a class="btn secondary" href="rules.html">Server Rules</a>
          </div>
        </div>

        <!-- STATS -->
        <div class="card stats">
          <div class="stat"><strong id="players-online">0</strong><span>Players Online</span></div>
          <div class="stat"><strong id="unique-week">0</strong><span>Unique This Week</span></div>
          <div class="stat"><strong id="server-status">Offline</strong><span>Status</span></div>
        </div>
      </div>
    </section>

    <!-- HOW TO JOIN -->
    <section id="how" class="fade-in-up">
      <h2>How to Join</h2>
      <div class="grid">
        <div class="card"><h3>1. Join Discord</h3><p>Enter our Discord and read the welcome channels.</p></div>
        <div class="card"><h3>2. Review Rules</h3><p>Understand our roleplay standards and expectations.</p></div>
        <div class="card"><h3>3. Start Roleplaying</h3><p>Join the ER:LC server and enjoy realistic RP.</p></div>
      </div>
    </section>

    <!-- DEPARTMENTS -->
    <section id="departments" class="fade-in-up">
      <h2>Departments</h2>
      <div class="grid">
        <div class="card"><h3>Law Enforcement</h3><p>Traffic enforcement, patrol, investigations.</p></div>
        <div class="card"><h3>Fire & EMS</h3><p>Fire response, medical RP, emergencies.</p></div>
        <div class="card"><h3>Civilian</h3><p>Businesses, daily life, story-driven RP.</p></div>
      </div>
    </section>

    <!-- STAFF -->
    <section id="staff" class="fade-in-up">
      <h2>Staff Team</h2>
      <div class="card">
        <p>Our experienced staff team is dedicated to maintaining quality roleplay and a fair environment for all players.</p>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="fade-in-up">
      <h2>Contact</h2>
      <div class="card">
        <p>Discord: <a href="https://discord.gg/ZrjZcFphjr" target="_blank">https://discord.gg/ZrjZcFphjr</a></p>
        <p>Server Join Key: jcrp</p>
        <p>Age Requirement: 13+</p>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container footer">© <span id="year"></span> Jackson County Roleplay · Not affiliated with real agencies</div>
  </footer>

  <script>
    // Current year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Fetch stats from VPS
    async function updateStats() {
      try {
        const res = await fetch('http://YOUR_VPS_IP:3000/stats'); // Replace YOUR_VPS_IP with your VPS address
        const data = await res.json();

        document.getElementById('players-online').textContent = data.playersOnline;
        document.getElementById('unique-week').textContent = data.uniquePlayersWeek;
        document.getElementById('server-status').textContent = data.serverStatus;
      } catch (err) {
        console.error('Failed to fetch stats', err);
      }
    }

    updateStats();
    setInterval(updateStats, 30000); // refresh every 30s
  </script>

</body>
</html>
